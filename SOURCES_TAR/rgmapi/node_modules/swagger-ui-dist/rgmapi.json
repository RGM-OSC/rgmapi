{
  "openapi": "3.0.3",
  "info": {
    "title": "RGMApi",
    "version": "2.0",
    "contact": {
      "email": "contact@rgm.cloud.com",
      "name": "Contact RGM",
      "url": "https://www.rgm-cloud.com/"
    },
    "description": "RGM includes a web-based \"RESTful\" API (Application Programming Interface) called RGMAPI that enables external programs to access information from the monitoring database and to manipulate objects inside the databases of RGM suite.\n\nTo authenticate, use your personnal token or request a token via the **POST** request `/api/v2/token` and past the token in the Autorize Window "
  },
  "tags": [
    {
      "name": "Authentication",
      "description": "Routes dedicated to authentication"
    },
    {
      "name": "Nagios",
      "description": "Nagios dedicated routes"
    },
    {
      "name": "Host",
      "description": "Host routes"
    },
    {
      "name": "Service",
      "description": "Service routes"
    },
    {
      "name": "Template",
      "description": "Template routes"
    },
    {
      "name": "User",
      "description": "User routes"
    }
  ],
  "security": [
    {
      "BearerAuth": []
    }
  ],
  "paths": {
    "/api/v2/token": {
      "post": {
        "operationId": "getAuthToken",
        "summary": "Get a new authentication token",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string",
                    "format": "password"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "version": {
                      "type": "string",
                      "example": "2.0"
                    },
                    "code": {
                      "type": "integer",
                      "example": 201
                    },
                    "message": {
                      "type": "string",
                      "example": "201 Created"
                    },
                    "token": {
                      "type": "string",
                      "example": "661005f91b08526f032...45e0"
                    },
                    "valid_until_1970": {
                      "type": "integer",
                      "format": "int64",
                      "example": 1630680039
                    },
                    "valid_until_rfc": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "version": {
                      "type": "string",
                      "example": "2.0"
                    },
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "message": {
                      "type": "string",
                      "example": "Wrong credentials (invalid username or password)"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "operationId": "checkAuthToken",
        "summary": "Check authentication token validity",
        "tags": [
          "Authentication"
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "unauthorized"
          }
        }
      }
    },
    "/api/v2/host": {
      "get": {
        "operationId": "getHost",
        "summary": "Get host list",
        "tags": [
          "Host"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "hostName",
            "description": "The hostname",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "put": {
        "operationId": "modifyHost",
        "summary": "Modify an Host object",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required value is **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HostUpdate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/201"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "post": {
        "operationId": "createHost",
        "summary": "Create a Lilac Host object",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **templateHostName**\n   - **hostName**\n   - **hostIp**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HostCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/201"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "delete": {
        "operationId": "deleteHost",
        "summary": "delete an host",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required value is **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HostBase"
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    },
    "/api/v2/host/group": {
      "post": {
        "operationId": "addHostGroupToHost",
        "summary": "Add Host Groupe to Host",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **hostGroupName**\n   - **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "hostGroupName": {
                    "type": "string"
                  }
                },
                "allOf": [
                  {
                    "$ref": "#/components/schemas/HostBase"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/201"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "delete": {
        "operationId": "deleteHostGroupToHost",
        "summary": "Delete a Host Group for an Host",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **hostGroupName**\n   - **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "hostGroupName": {
                    "type": "string"
                  }
                },
                "allOf": [
                  {
                    "$ref": "#/components/schemas/HostBase"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    },
    "/api/v2/host/contact": {
      "post": {
        "operationId": "addContactToHost",
        "summary": "Add Contact to Host",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **contactName**\n   - **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "contactName": {
                    "type": "string"
                  }
                },
                "allOf": [
                  {
                    "$ref": "#/components/schemas/HostBase"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/201"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "delete": {
        "operationId": "deleteContactToHost",
        "summary": "Delete a Contact for an Host",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **contactName**\n   - **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "contactName": {
                    "type": "string"
                  }
                },
                "allOf": [
                  {
                    "$ref": "#/components/schemas/HostBase"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    },
    "/api/v2/host/contact/group": {
      "post": {
        "operationId": "addContactGroupToHost",
        "summary": "Add a Contact Group to Host",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **contactGroupName**\n   - **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "contactGroupName": {
                    "type": "string"
                  }
                },
                "allOf": [
                  {
                    "$ref": "#/components/schemas/HostBase"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/201"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "delete": {
        "operationId": "deleteContactGroupToHost",
        "summary": "Delete a Contact Group for an Host",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **contactGroupName**\n   - **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "contactGroupName": {
                    "type": "string"
                  }
                },
                "allOf": [
                  {
                    "$ref": "#/components/schemas/HostBase"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    },
    "/api/v2/host/template": {
      "post": {
        "operationId": "addHostTemplateToHost",
        "summary": "Add Host Template to Host",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **templateHostName**\n   - **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "templateHostName": {
                    "type": "string"
                  }
                },
                "allOf": [
                  {
                    "$ref": "#/components/schemas/HostBase"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/201"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "delete": {
        "operationId": "deleteHostTemplateToHost",
        "summary": "Delete a Host Template for an Host",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **templateHostName**\n   - **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "templateHostName": {
                    "type": "string"
                  }
                },
                "allOf": [
                  {
                    "$ref": "#/components/schemas/HostBase"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    },
    "/api/v2/host/down": {
      "get": {
        "operationId": "getHostsDown",
        "summary": "Get a list of all down Hosts",
        "tags": [
          "Host"
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    },
    "/api/v2/host/arguments": {
      "post": {
        "operationId": "addCustomArgumentsToHost",
        "summary": "Add Custom Arguments to Host",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **customArguments** as key:value form.\n   - **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "hostName": {
                    "type": "string"
                  },
                  "customArguments": {
                    "type": "object",
                    "additionalProperties": {}
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/201"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "delete": {
        "operationId": "deleteCustomArgumentsToHost",
        "summary": "Delete Custom Arguments for an Host",
        "tags": [
          "Host"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **customArguments** as key:value form. value coould be \"\"\n   - **hostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "hostName": {
                    "type": "string"
                  },
                  "customArguments": {
                    "type": "object",
                    "additionalProperties": {}
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    },
    "/api/v2/nagios/resources": {
      "get": {
        "operationId": "getResources",
        "summary": "Get Nagios ressources list",
        "tags": [
          "Nagios"
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "put": {
        "operationId": "modifyNagiosResources",
        "summary": "Modify one or many Nagios Resources",
        "tags": [
          "Nagios"
        ],
        "parameters": [
          {
            "name": "username",
            "in": "query",
            "description": "Resources a JSON structure that reflects the resources to modify",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/NagiosRessource"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    },
    "/api/v2/nagios/export": {
      "post": {
        "operationId": "exportConfiguration",
        "summary": "Exports Lilac configuration to Nagios config file",
        "tags": [
          "Nagios"
        ],
        "parameters": [
          {
            "name": "jobName",
            "in": "query",
            "description": "- **Nagios Export** : Rebuild the Full Nagios Export. Time increase with number of equipments\n- **Incremental Nagios Export** : Build Nagios Export with only delta modifications\n",
            "schema": {
              "type": "string",
              "enum": [
                "Nagios Export",
                "Incremental Nagios Export"
              ],
              "default": "Nagios Export"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    },
    "/api/v2/nagios/eventbroker": {
      "post": {
        "operationId": "createNagiosEventBroker",
        "summary": "Create nagios event broker",
        "tags": [
          "Nagios"
        ],
        "requestBody": {
          "description": "Required value is **broker**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "broker": {
                    "type": "string",
                    "description": "The name of broker to create"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          }
        }
      },
      "delete": {
        "operationId": "deleteNagiosEventBroker",
        "summary": "Delete nagios event broker",
        "tags": [
          "Nagios"
        ],
        "requestBody": {
          "description": "Required value is **broker**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "broker": {
                    "type": "string",
                    "description": "The name of broker to delete"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          }
        }
      }
    },
    "/api/v2/service": {
      "get": {
        "operationId": "getServicesByHost",
        "summary": "Get all services attached to a specified Lilac Host",
        "tags": [
          "Service"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "hostName",
            "description": "The hostname",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "post": {
        "operationId": "createServiceToHost",
        "summary": "Create a Service to Host object",
        "tags": [
          "Service"
        ],
        "requestBody": {
          "description": "Required values are:\n   - **hostName**\n   - **service**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/HostBase"
                  }
                ],
                "properties": {
                  "service": {
                    "type": "object",
                    "allOf": [
                      {
                        "$ref": "#/components/schemas/Service"
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/201"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    },
    "/api/v2/user": {
      "post": {
        "operationId": "createUser",
        "summary": "Create User in RGM",
        "tags": [
          "User"
        ],
        "requestBody": {
          "description": "Required value is **userName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/User"
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/201"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    },
    "/api/v2/template/host": {
      "get": {
        "operationId": "getHostTemplate",
        "summary": "Get HostTemplate details",
        "tags": [
          "Template"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "templateHostName",
            "description": "The templateHostName",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "post": {
        "operationId": "createHostTemplate",
        "summary": "Create a Lilac HostTemplate object",
        "tags": [
          "Template"
        ],
        "requestBody": {
          "description": "Required value is **templateHostName**",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/HostTemplate"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/201"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      },
      "delete": {
        "operationId": "deleteHostTemplate",
        "summary": "Delete Host Template",
        "tags": [
          "Template"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "templateHostName",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/200"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "406": {
            "$ref": "#/components/responses/406"
          },
          "417": {
            "$ref": "#/components/responses/417"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ResponseOK": {
        "type": "object",
        "properties": {
          "version": {
            "type": "string",
            "example": "2.0"
          },
          "code": {
            "type": "integer",
            "example": 200
          },
          "message": {
            "type": "string",
            "example": "200 OK"
          },
          "status": {
            "type": "string",
            "example": "authorized"
          },
          "result": {
            "type": "array",
            "items": {
              "type": "object"
            }
          }
        }
      },
      "ResponseUnauthorized": {
        "type": "object",
        "properties": {
          "version": {
            "type": "string",
            "example": "2.0"
          },
          "code": {
            "type": "integer",
            "example": 401
          },
          "message": {
            "type": "string",
            "example": "401 Unauthorized"
          },
          "status": {
            "type": "string",
            "example": "unauthorized"
          }
        }
      },
      "ResponseNotFound": {
        "type": "object",
        "properties": {
          "version": {
            "type": "string",
            "example": "2.0"
          },
          "code": {
            "type": "integer",
            "example": 404
          },
          "message": {
            "type": "string",
            "example": "404 Not Found"
          },
          "status": {
            "type": "string",
            "example": "unauthorized"
          }
        }
      },
      "ResponseMalformed": {
        "type": "object",
        "properties": {
          "version": {
            "type": "string",
            "example": "2.0"
          },
          "code": {
            "type": "integer",
            "example": 406
          },
          "message": {
            "type": "string",
            "example": "406 Not Acceptable"
          },
          "status": {
            "type": "string",
            "example": "unauthorized"
          }
        }
      },
      "ResponseBadParameters": {
        "type": "object",
        "properties": {
          "version": {
            "type": "string",
            "example": "2.0"
          },
          "code": {
            "type": "integer",
            "example": 417
          },
          "message": {
            "type": "string",
            "example": "417 Expectation Failed"
          },
          "status": {
            "type": "string",
            "example": "unauthorized"
          }
        }
      },
      "NagiosRessource": {
        "type": "object",
        "properties": {
          "resources": {
            "type": "object",
            "example": {
              "User1": "value1",
              "User9": "value9"
            }
          }
        }
      },
      "HostBase": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "hostName": {
            "type": "string",
            "description": "a string of a *unique* hostname"
          },
          "exportConfiguration": {
            "type": "boolean",
            "default": false,
            "description": "force the execution of Lilac exporter after Contact creation"
          }
        }
      },
      "Host": {
        "allOf": [
          {
            "$ref": "#/components/schemas/HostBase"
          }
        ],
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "templateHostName": {
            "type": "string",
            "description": "a string of a *unique* hostname",
            "default": "GENERIC_HOST"
          },
          "hostIp": {
            "type": "string",
            "description": "a string of the IP address of the host. Can be a CIDR IP"
          },
          "hostAlias": {
            "type": "string",
            "description": "a string containing a *alias* or a *description* of the host",
            "default": ""
          },
          "contactName": {
            "type": "string",
            "description": "an optional Lilac ContactName associated with this host",
            "default": null
          },
          "contactGroupName": {
            "type": "string",
            "description": "an optional Lilac ContactGroupName associated with this host",
            "default": null
          }
        }
      },
      "HostCreate": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Host"
          }
        ],
        "required": [
          "templateHostName",
          "hostName",
          "hostIp"
        ]
      },
      "HostUpdate": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Host"
          }
        ],
        "properties": {
          "newHostName": {
            "type": "string",
            "description": "a new name for the host",
            "default": null
          }
        },
        "required": [
          "hostName"
        ],
        "minProperties": 2
      },
      "Service": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "a name for the service"
          },
          "template": {
            "type": "string",
            "description": "a Template service name"
          },
          "commande": {
            "type": "string",
            "description": "Define a command to use in the service"
          },
          "parameters": {
            "type": "object",
            "description": "parameters to set for the command"
          }
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "userName": {
            "type": "string"
          },
          "userMail": {
            "type": "string"
          },
          "limited": {
            "type": "boolean",
            "default": false
          },
          "admin": {
            "type": "boolean",
            "default": false
          },
          "filterName": {
            "type": "string"
          },
          "filterValue": {
            "type": "string"
          },
          "exportConfiguration": {
            "type": "boolean",
            "default": false
          }
        }
      },
      "HostTemplate": {
        "type": "object",
        "properties": {
          "templateHostName": {
            "type": "string"
          },
          "templateHostDescription": {
            "type": "string"
          },
          "createHostgroup": {
            "type": "boolean",
            "default": true
          },
          "exportConfiguration": {
            "type": "boolean",
            "default": false
          }
        },
        "required": [
          "templateHostName"
        ]
      }
    },
    "responses": {
      "200": {
        "description": "OK",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ResponseOK"
            }
          }
        }
      },
      "201": {
        "description": "OK",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ResponseOK"
            }
          }
        }
      },
      "401": {
        "description": "unauthorized",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ResponseUnauthorized"
            }
          }
        }
      },
      "404": {
        "description": "resource not found",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ResponseNotFound"
            }
          }
        }
      },
      "406": {
        "description": "JSON body malformed",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ResponseMalformed"
            }
          }
        }
      },
      "417": {
        "description": "Mandatory parameters are needed",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ResponseBadParameters"
            }
          }
        }
      }
    },
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}
